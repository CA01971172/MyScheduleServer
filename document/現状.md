### EC2インスタンス(バックエンド)
i-0ae48c373e6613357 (MySchedule Server)

### Route 53 > ホストゾーン > iti2022kawahara.com
myschedule-server.iti2022kawahara.com
52.195.166.169
※ IPアドレスが変わり次第、レコードを再設定する

### SSL証明書
※Let's Encryptは、証明書の有効期限が90日のため、定期的に更新すること


#### SSL証明書を取得した手順
以下は、Amazon Linuxを使用してLet's Encryptを設定する手順です。
1. EC2インスタンスにSSHで接続します。
1. Certbotをインストールするために、EPELリポジトリを有効化します。
    ```
    sudo amazon-linux-extras install epel
    ```
1. Certbotをインストールします。
    ```
    sudo yum install certbot
    ```
1. SSL証明書を取得するために、必要なドメインに対してWebサーバーのドキュメントルートを設定します。具体的な手順は、お使いのWebサーバー（例：Apache、Nginx）によって異なります。
1. Certbotを使用してSSL証明書を取得します。以下のコマンドを実行して証明書を取得します。
    ```
    sudo certbot certonly --webroot -w /var/www/html -d example.com -d myschedule-server.iti2022kawahara.com
    ```
1. Webサーバーのドキュメントルートに一時的なファイルを配置するためのディレクトリを作成します。
    ```
    sudo mkdir -p /var/www/html/.well-known/acme-challenge
    ```
1. 一時的なファイルを作成します。
    ```
    sudo sh -c 'echo "This is a temporary HTML file." > /var/www/html/.well-known/acme-challenge/index.html'
    ```
1. Apacheをインストールします。
    ```
    sudo yum update -y
    sudo yum install httpd -y
    ```
1. Apacheを起動します。
    ```
    sudo service httpd start
    ```
1. Apacheの起動が正常に完了したかどうかを確認します。
    ```
    sudo service httpd status
    ```

1. Certbotを使用してSSL証明書を取得します。以下のコマンドを実行します。
    ```
    sudo certbot certonly --webroot -w /var/www/html -d myschedule-server.iti2022kawahara.com
    ```
1. Certbotは自動的にドメインの所有権を確認するための一時的なファイルを.well-known/acme-challengeディレクトリに配置します。この手順が完了したら、Expressアプリケーションを再起動して通常の動作に戻します。
1. 証明書が取得されると、/etc/letsencrypt/live/example.com/ディレクトリに証明書と秘密鍵が保存されます。